class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if((prices.size()==0)||(prices.size()==1)) return 0;
        int min = prices[0];
        int sum = 0;
        int key = 0;
        int i;
        for(i = 1;i<prices.size()-1;i++){
            if((prices[i]<prices[i-1])&&(prices[i]<prices[i+1])){
                sum += prices[i-1] - min;
                min = prices[i];
                key = 1;
            }
            //else if(prices[i]-prices[i-1]>0) continue;
        }
        if(key == 0) return 0;
        if(prices[i]>prices[i-1]) sum += prices[i] - min;
        else sum +=prices[i-1] - min;
        return sum;
    }
};
